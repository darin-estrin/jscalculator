function Calculator(){var numbers=[],total="",equalPressedLast=!1;this.clear=function(){total="",equalPressedLast=!(numbers=[]),$(".current-number").text("0"),$(".staged-calculation").text("")},this.numberClicked=function(e){var n;n=0<numbers.length?numbers.length:0,equalPressedLast&&(n=0,equalPressedLast=!(numbers=[])),"0"===e&&isNaN(numbers[n-1])||(isNaN(numbers[n-1])?(numbers[n]=e,$(".current-number").text(numbers[n])):(numbers[n-1]+=e,$(".current-number").text(numbers[n-1])))},this.operatorClicked=function(e){var n="";if(equalPressedLast&&(equalPressedLast=!(numbers=[total])),0!==numbers.length){switch(e){case"+":case"-":case"/":case"*":isNaN(numbers[numbers.length-1])?numbers[numbers.length-1]=e:numbers.push(e);break;default:return}numbers.forEach(function(e){n+=e+" "}),$(".staged-calculation").text(n),$(".current-number").text("0")}},this.invertClicked=function(){if(!isNaN(numbers[numbers.length-1])){var e=(-1*+numbers[numbers.length-1]).toString();numbers[numbers.length-1]=e,$(".current-number").text(e)}},this.squareRootNumber=function(){var e=null;2<numbers.length?(this.calculate(),e=Math.sqrt(+total)):(e=Math.sqrt(numbers[0]),numbers[0]=e),isNaN(e)||$(".current-number").text(e)}.bind(this),this.calculate=function(){numbers.length<2||(2===numbers.length&&(numbers[2]=numbers[0]),isNaN(numbers[numbers.length-1])&&3<=numbers.length&&numbers.splice(numbers.length-1,1),total=eval(numbers.join("")).toString(),$(".staged-calculation").text(""),$(".current-number").text(total),numbers=numbers.slice(-3),numbers[0]=total,equalPressedLast=!0)},this.decimalClicked=function(){if(isNaN(numbers[numbers.length-1]))numbers.push("0.");else{if(0<numbers[numbers.length-1].indexOf("."))return;numbers[numbers.length-1]+="."}$(".current-number").text(numbers[numbers.length-1])}}$(document).ready(function(){var n=new Calculator;n.clear(),$(".clear").on("click",n.clear),$(".number").on("click",function(e){n.numberClicked(e.target.innerText)}),$(".operator").on("click",function(e){n.operatorClicked(e.target.innerText)}),$(".invert").on("click",n.invertClicked),$(".decimal").on("click",n.decimalClicked),$(".root").on("click",n.squareRootNumber),$(".equal").on("click",n.calculate)});